# Backend: CORS, rate limiting, лимит тела запроса

**Дата:** 2026-01-29

## Проблема

- Не было CORS middleware — кросс-доменные запросы от браузера могли блокироваться или настраиваться неочевидно.
- Не было rate limiting — product_spec (раздел 18.1) требует 100 запросов/минуту на IP для общих запросов.
- `express.json()` использовался без явного лимита размера тела — риск DoS при больших payload.

## Решение

- **CORS:** подключён middleware `cors()` в `app.ts` (до роутов). Политика по умолчанию; при необходимости позже настраивается через опции.
- **Rate limiting:** для маршрута `/api` подключён `express-rate-limit`: 100 запросов в минуту на IP, стандартные заголовки (RateLimit-*). Соответствует product_spec 18.1.
- **Лимит тела:** `express.json({ limit: '1mb' })` — явный лимит для защиты от больших тел запроса.

Поведение доменной логики не изменено; изменения касаются только инфраструктуры безопасности и ограничений запросов.
