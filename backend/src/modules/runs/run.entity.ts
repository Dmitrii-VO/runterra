/**
 * Сущность пробежки
 * 
 * Описывает модель пробежки в системе Runterra.
 * Пробежка представляет собой факт выполнения бега пользователем,
 * который может быть привязан к тренировке и территории.
 * 
 * На текущей стадии (skeleton) содержит только структуру данных
 * без логики, без валидации, без расчётов, без работы с БД.
 * 
 * ВАЖНО:
 * - GPS точки хранятся как заглушка (TODO для будущего)
 * - Валидация (слишком короткая, слишком быстрая) - TODO
 * - Расчёты дистанции, времени - TODO
 * - Только контракты и структура данных
 */

import type { GeoCoordinates } from '../../shared/types/coordinates';
import { RunStatus } from './run.type';

/** Single GPS point during a run — GeoCoordinates plus optional timestamp. */
export interface GpsPoint extends GeoCoordinates {
  /** Временная метка (опционально) */
  timestamp?: Date;
}

/**
 * Интерфейс пробежки
 * 
 * Представляет полную модель пробежки в системе.
 * Все поля соответствуют будущей структуре БД.
 */
export interface Run {
  /** Уникальный идентификатор пробежки в системе */
  id: string;
  
  /** Идентификатор пользователя, выполнившего пробежку */
  userId: string;
  
  /** Идентификатор тренировки, к которой привязана пробежка (опционально) */
  activityId?: string;
  
  /** Время начала пробежки */
  startedAt: Date;
  
  /** Время окончания пробежки */
  endedAt: Date;
  
  /** Длительность пробежки в секундах */
  duration: number;
  
  /** Пройденное расстояние в метрах */
  distance: number;
  
  /** GPS точки маршрута (заглушка, TODO для будущего) */
  gpsPoints?: GpsPoint[];
  
  /** Статус пробежки */
  status: RunStatus;
  
  /** Дата создания записи */
  createdAt: Date;
  
  /** Дата последнего обновления */
  updatedAt: Date;
}
